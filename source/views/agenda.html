<html>
    <%-include('partials/second_head.html');%>
	<body>
		<header>
			<%-include('partials/navegacion.html');%>
		</header>

		<div class="p-5">
			<div class="row">
				<div class="col-md-6">
					<h3 class="mb-5">Listado de Contactos</h3>
					<table class="table table-bordered">
						<thead class="text-center">
							<tr>
								<th>ID</th>
								<th>Nombre</th>
								<th>Domicilio</th>
								<th>Telefono</th>
							</tr>
						</thead>
						<% if (contactos) { %>
							<tbody>
								<% for(var i=0; i < contactos.length; i++ ) { %>
								<tr>
									<td><%= contactos[i].idContactos %></td>
									<td><%= contactos[i].nombre %></td>
									<td><%= contactos[i].domicilio %></td>
									<td><%= contactos[i].telefono %> </td>
								</tr>
								<% } %>
							</tbody>
						<% } %>

					</table>
					<div class="float-right">
						<form action="/agenda" method="post">
							<button type="submit">Ver</button>
						</form>
						<form action="/agenda" method="get">
							<button action="/agenda">Limpiar</button>
						</form>
					</div>
				</div>

				<!-- Apartado para Modificar y Borrar -->
				<div class="col-md-4">
					<h3 class="mb-5">Buscar o Modificar Contacto</h3>
					<div class="card">
						<div class="card-body">
							<form action="/agenda/id" method="get" class="form-group col-md-5">
								<label for="idContactos" class="mb-3" style="font-weight: bold;">Contacto ID:</label>
								<input type="number" id="idContactos" name="idContactos" placeholder="Contacto ID" class="form-control">
								<!-- Boton para buscar -->
								<button type="submit" class="float-right mt-3">Buscar</button>
							</form>
						</div>
						<% if ( contacto ) { %>
							<!-- Si el ID se encuentra registrado -->
							<div class="card-footer">

								<form action="/agenda/id" method="post" class="form-group col-md-8">
									<input type="hidden" name="idContactos" id="idContactos" value="<%=contacto.idContactos%>">
									<label for="nombre" class="mb-3" style="font-weight: bold;">Nombre:</label>
									<input type="text" id="nombre" name="nombre" placeholder="Juan Perez" class="form-control" value="<%=contacto.nombre%>">
									<label for="domicilio" class="mb-3" style="font-weight: bold;">Domicilio:</label>
									<input type="text" id="domicilio" name="domicilio" placeholder="Calle Falsa 123" class="form-control" value="<%=contacto.domicilio%>">
									<label for="telefono" class="mb-3" style="font-weight: bold;">Telefono:</label>
									<input type="number" id="telefono" name="telefono" placeholder="Telefono" class="form-control" value="<%=contacto.telefono%>">
									<!-- Se guarda la edición -->
									<button type="submit" class="mt-3">Guardar</button>
								</form>
									<!-- Se elimina -->
								<form action="/agenda/id/borrar" method="post">
									<input type="hidden" name="idContactos" id="idContactos" value="<%=contacto.idContactos%>">
									<button type="submit" class="mt-3">Eliminar</button>
								</form>
							</div>
						<% } %>
					</div>
				</div>
			</div>
	
	
			<div class="row">
				<div class="col-md-6">
					<!-- Agregar Contacto -->
					<h3 class="mb-5">Agregar un nuevo contacto</h3>
					<form action="/agenda/nuevo" method="post">
						<div class="row">
							<div class="col-md-4">
								<label for="nombre">Nombre</label>
								<input type="text" name="nombre" id="nombre" class="form-control" placeholder="Nombre">
							</div>
							<div class="col-md-4">
								<label for="domicilio">Domicilio</label>
								<input type="text" name="domicilio" id="domicilio" class="form-control" placeholder="Dirección">
							</div>
							<div class="col-md-4">
								<label for="telefono">Telefono</label>
								<input type="number" name="telefono" id="telefono" class="form-control" placeholder="Número">
							</div>
						</div>
						<div class="float-right mt-3">
							<!-- Guardar contacto Nuevo -->
							<button type="submit">Guardar</button>
						</div>
					</form>
				</div>
			</div>
		</div>

	</body>
</html>


<style>
	.float-right {
		float: right;
	}
</style>